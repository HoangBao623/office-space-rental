<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <title>OSR</title>
  <!-- Bootstrap core CSS -->
  <link href="/customize/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/customize/index-style.css">
  <link rel="stylesheet" href="/customize/fontawesome.css">
  <link rel="stylesheet" href="/customize/templatemo-villa-agency.css">
  <link rel="stylesheet" href="/customize/owl.css">
  <link rel="stylesheet" href="/customize/animate.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
<!-- ***** Header Area Start ***** -->
<header class="header-area header-sticky">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav class="main-nav">
          <!-- ***** Logo Start ***** -->
          <a th:href="@{/}" class="logo">
            <h1>OSR</h1>
          </a>
          <!-- ***** Logo End ***** -->
          <!-- ***** Menu Start ***** -->
          <ul class="nav">
            <li><a th:href="@{/}">Home</a></li>
            <li>
              <!-- Nếu chưa đăng nhập -->
              <div th:if="${user == null}">
                <a th:href="@{/login}">
                  <i class="fa fa-user"></i> Log in
                </a>
              </div>
              <!-- Kiểm tra nếu đã đăng nhập -->
              <div th:if="${user != null}" class="dropdown">
                <a class="dropdown-toggle" href="#" id="username" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="fa fa-user"></i> <span th:text="${username}">Username</span>
                </a>
                <div class="dropdown-menu" >
                  <a  th:href="@{/profile}">Profile</a>
                  <a  th:href="@{/logout}">Log out</a>
                </div>
              </div>
            </li>
          </ul>
          <a class='menu-trigger'>
            <span>Menu</span>
          </a>
          <!-- ***** Menu End ***** -->
        </nav>
      </div>
    </div>
  </div>
</header>
<!-- ***** Header Area End ***** -->

<div class="page-heading header-text">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <span class="breadcrumb"><a th:href="@{/}">Home</a></span>
        <h3>Home</h3>
      </div>
    </div>
  </div>
</div>

<!--  Search Form-->
<div class="properties section">
  <div class="container">
    <div class="search-form" id="search-Form">
      <div class="container">
        <h2>
          Tìm kiếm văn phòng cho thuê
          <svg id="toggleIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-arrow-down-circle" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"/>
          </svg>
        </h2>
        <form id="searchForm" method="get" th:action="@{/}">
          <!-- Name -->
          <div class="row">
            <div class="col-lg-12">
              <fieldset>
                <label>Tên tòa nhà</label>
                <input type="text" name="buildingName" id="buildingName" placeholder="Nhập tên tòa nhà">
              </fieldset>
            </div>
          </div>
          <!--  -->
          <div class="row">
          <div class="row">
            <div class="col-lg-6">
              <fieldset>
                <label>Tiêu đề</label>
                <input type="text" name="title" id="title" placeholder="Nhập tiêu đề">
              </fieldset>
            </div>
            <!-- Loại hình văn phòng -->
            <div class="col-lg-6">
              <fieldset>
                <label>Loại văn phòng</label>
                <select name="tagName" id="tagName" class="form-control">
                  <option value="">Chọn văn phòng</option>
                  <option value="Featured">Nổi bật</option>
                  <option value="New">Mới</option>
                  <option value="Popular">Phổ biến</option>
                </select>
              </fieldset>
            </div>
          </div>
          </div>
          <!--  -->
          <div class="row">
            <div class="col-lg-3">
              <fieldset>
                <label>Đường</label>
                <input type="text" name="street" id="street" placeholder="Nhập tên đường">
              </fieldset>
            </div>
            <div class="col-lg-3">
              <fieldset>
                <label>Phường/Xã</label>
                <input type="text" name="wardcommune" id="wardcommune" placeholder="Nhập phường/xã">
              </fieldset>
            </div>
            <div class="col-lg-3">
              <fieldset>
                <label>Quận/Huyện</label>
                <input type="text" name="district" id="district" placeholder="Nhập quận/huyện">
              </fieldset>
            </div>
            <div class="col-lg-3">
              <fieldset>
                <label>Tỉnh/Thành phố</label>
                <input type="text" name="cityprovince" id="cityprovince" placeholder="Nhập tỉnh/thành phố">
              </fieldset>
            </div>
          </div>

          <!-- Area  -->
          <div class="row">
            <div class="col-lg-2">
              <fieldset>
                <label>Diện tích tối thiểu</label>
                <input type="number" name="minSize" id="minSize" placeholder="Min area (m²)">
              </fieldset>
            </div>
            <div class="col-lg-2">
              <fieldset>
                <label>Diện tích tối đa</label>
                <input type="number" name="maxSize" id="maxSize" placeholder="Max area (m²)">
              </fieldset>
            </div>
            <div class="col-lg-2">
              <fieldset>
                <label>Giá tối thiểu</label>
                <input type="number" name="minPrice" id="minPrice" placeholder="Min price (VNĐ)">
              </fieldset>
            </div>
            <div class="col-lg-2">
              <fieldset>
                <label>Giá tối đa</label>
                <input type="number" name="maxPrice" id="maxPrice" placeholder="Max price (VNĐ)">
              </fieldset>
            </div>

            <div class="col-lg-2">
              <fieldset>
                <label>Sức chứa tối thiểu</label>
                <input type="number" name="minCapacity" id="minCapacity" placeholder="Min Capacity">
              </fieldset>
            </div>
            <div class="col-lg-2">
              <fieldset>
                <label>Sức chứa tối đa</label>
                <input type="number" name="maxCapacity" id="maxCapacity" placeholder="Max Capacity">
              </fieldset>
            </div>
          </div>
          <!-- Loại hình văn phòng -->
          <div class="row1">
            <div class="col-lg-4">
              <fieldset>
                <label>Loại hình văn phòng</label>
                <div class="checkbox-group">
                  <div><input type="checkbox" name="typeName" value="Văn phòng truyền thống">Văn phòng truyền thống</div>
                  <div><input type="checkbox" name="typeName" value="Không gian làm việc chung">Không gian làm việc chung</div>
                  <div><input type="checkbox" name="typeName" value="Văn phòng chia sẻ">Văn phòng chia sẻ</div>
                  <div><input type="checkbox" name="typeName" value="Văn phòng sinh học">Văn phòng sinh học</div>
                  <div><input type="checkbox" name="typeName" value="Văn phòng thông minh">Văn phòng thông minh</div>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-4">
              <fieldset>
                <div class="form-group">
                  <label>Hình thức thuê</label>
                  <div class="checkbox-group">
                    <div><input type="checkbox" name="rentTypeName" value="Yearly">Theo năm</div>
                    <div><input type="checkbox" name="rentTypeName" value="Seasonal">Theo quý</div>
                    <div><input type="checkbox" name="rentTypeName" value="Monthly">Theo tháng</div>
                    <div><input type="checkbox" name="rentTypeName" value="Weekly">Theo tuần</div>
                    <div><input type="checkbox" name="rentTypeName" value="Daily">Theo ngày</div>
                    <div><input type="checkbox" name="rentTypeName" value="Hourly">Theo giờ</div>
                  </div>
                </div>
              </fieldset>
            </div>
            <div class="col-lg-4">
              <fieldset>
                <div class="form-group">
                  <label>Dịch vụ</label>
                  <div class="checkbox-group">
                    <div><input type="checkbox" name="amenityName" value="Wi-Fi">Wi-Fi</div>
                    <div><input type="checkbox" name="amenityName" value="Ghế Ergonomic">Ghế Ergonomic</div>
                    <div><input type="checkbox" name="amenityName" value="Bàn Điều Chỉnh">Bàn Điều Chỉnh</div>
                    <div><input type="checkbox" name="amenityName" value="Bàn Đứng">Bàn Đứng</div>
                    <div><input type="checkbox" name="amenityName" value="Đèn Bàn">Đèn Bàn</div>
                    <div><input type="checkbox" name="amenityName" value="Máy Chiếu">Máy Chiếu</div>
                    <div><input type="checkbox" name="amenityName" value="TV/Màn Hình">TV/Màn Hình</div>
                    <div><input type="checkbox" name="amenityName" value="Bảng Trắng">Bảng Trắng</div>
                    <div><input type="checkbox" name="amenityName" value="Máy In/Máy Scan">Máy In/Máy Scan</div>
                    <div><input type="checkbox" name="amenityName" value="Máy Photocopy">Máy Photocopy</div>
                    <div><input type="checkbox" name="amenityName" value="Máy Pha Cà Phê">Máy Pha Cà Phê</div>
                    <div><input type="checkbox" name="amenityName" value="Máy Lọc Nước">Máy Lọc Nước</div>
                    <div><input type="checkbox" name="amenityName" value="Điều Hòa">Điều Hòa</div>
                    <div><input type="checkbox" name="amenityName" value="Hệ Thống Sưởi">Hệ Thống Sưởi</div>
                    <div><input type="checkbox" name="amenityName" value="Tủ Lưu Trữ">Tủ Lưu Trữ</div>
                    <div><input type="checkbox" name="amenityName" value="Tủ Khóa">Tủ Khóa</div>
                    <div><input type="checkbox" name="amenityName" value="Cây Xanh Trong Nhà">Cây Xanh Trong Nhà</div>
                    <div><input type="checkbox" name="amenityName" value="Camera Giám Sát">Camera Giám Sát</div>
                    <div><input type="checkbox" name="amenityName" value="Máy Phát Điện Dự Phòng">Máy Phát Điện Dự Phòng</div>
                    <div><input type="checkbox" name="amenityName" value="Cách Âm">Cách Âm</div>
                    <div><input type="checkbox" name="amenityName" value="Rèm/Màn Cửa">Rèm/Màn Cửa</div>
                    <div><input type="checkbox" name="amenityName" value="Ánh Sáng Tự Nhiên">Ánh Sáng Tự Nhiên</div>
                    <div><input type="checkbox" name="amenityName" value="Sân Thượng">Sân Thượng</div>
                    </div>
                  </div>
              </fieldset>
            </div>
<!--            <div class="col-lg-3">-->
<!--              <fieldset>-->
<!--                <div class="form-group">-->
<!--                  <label>Dịch vụ</label>-->
<!--                  <div class="checkbox-group">-->
<!--                      <div><input type="checkbox" name="OSAmenity" value="Wi-Fi">Wi-Fi</div>-->
<!--                      <div><input type="checkbox" name="OSAmenity" value="Máy phát điện dự phòng">Máy phát điện dự phòng</div>-->
<!--                      <div><input type="checkbox" name="OSAmenity" value="Đèn bàn">Đèn bàn</div>-->
<!--                    </div>-->
<!--                  </div>-->
<!--              </fieldset>-->
<!--            </div>-->
          </div>
          <!-- Search Button -->
          <div class="row">
            <div class="col-lg-12" style="text-align: center;">
              <fieldset>
                <button type="reset" id="closeForm" class="orange-button">Reset</button>
                <button type="submit" class="orange-button">Search</button>
              </fieldset>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!--  Hiển thị-->
<div class="section properties">
  <div class="container">
    <div class="row properties-box">
      <div th:each="ac : ${osSearch_Lessee}" class="col-lg-4 col-md-6 align-self-center mb-30 properties-items col-md-6">
        <div class="item">
          <a th:href="@{/property-details/{id}(id=${ac.getBuildingName()})}">
          <img th:src="'/images/' + ${ac.getImageName()[0]} + '.jpg'" alt="Image Description"/>
          </a>
          <span class="category">
            <p th:text="${ac.getType()}"></p>
          </span>
          <h4>
            <a th:href="@{/property-details/{id}(id=${ac.getBuildingName()})}">
              <h3 th:text="${ac.getTitle()}"></h3>
            </a>
          </h4>
          <ul>
            <li>Capacity: <span th:text="${ac.getCapacity()}"></span></li>
            <li>Area: <span th:text="${ac.getSize()}"></span></li>
            <li>Address: <span th:text="${ac.getAddress()}"></span></li>
          </ul>
          <div class="main-button">
            <a th:href="@{/property-details/{id}(id=${ac.getBuildingName()})}">View a detail</a>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="pagination">
          <button id="prev-btn">&lt;&lt;</button>
          <div id="pagination-numbers"></div>
          <button id="next-btn">&gt;&gt;</button>
        </div>
      </div>
    </div>
  </div>
</div>

<footer>
  <div class="container">
    <div class="col-lg-12">
      <p>Copyright © 2048 RER Agency Co., Ltd. All rights reserved.
        Design: <a rel="nofollow" href="#" target="_blank">Nguyen Hoang Bao - Nguyen Ngoc Nghia </a></p>
    </div>
  </div>
</footer>

<!-- Scripts -->
<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const paginationNumbers = document.getElementById('pagination-numbers');
    let currentPage = "[[${currentPage}]]";
    const totalPages = "[[${totalPages}]]";

    function updatePage(page) {
      currentPage = page;
      loadPageData(currentPage);
      updatePaginationButtons();
    }

    function loadPageData(page) {
      const params = new URLSearchParams(window.location.search);
      params.set('page', page);
      const newUrl = `${window.location.pathname}?${params.toString()}`;
      window.history.pushState({ path: newUrl }, '', newUrl);
    }

    function updatePaginationButtons() {
      paginationNumbers.innerHTML = `Trang ${currentPage} / ${totalPages}`;
      prevBtn.disabled = currentPage == 1;
      nextBtn.disabled = currentPage == totalPages;
    }

    prevBtn.addEventListener('click', () => {
      if (currentPage > 1) {
        updatePage(currentPage - 1);
        location.reload();
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentPage < totalPages) {
        updatePage((parseInt(currentPage)) + 1);
        location.reload();
      }
    });

    updatePage(currentPage);
  });

  document.getElementById("toggleIcon").addEventListener("click", function () {
    const form = document.getElementById("searchForm");
    const icon = document.getElementById("toggleIcon");
    form.classList.toggle("active");
    icon.classList.toggle("rotate");
  });
</script>
<script src="/library/jquery/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="/library/bootstrap.min.js"></script>
<script src="/library/isotope.min.js"></script>
<script src="/library/owl-carousel.js"></script>
<script src="/library/counter.js"></script>
<script src="/library/custom.js"></script>
</body>
</html>